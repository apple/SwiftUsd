{"identifier":{"url":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CheatSheet","interfaceLanguage":"swift"},"sections":[],"schemaVersion":{"minor":3,"patch":0,"major":0},"kind":"article","metadata":{"roleHeading":"Article","role":"article","title":"Cheat sheet","modules":[{"name":"OpenUSD"}]},"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","text":"Overview","type":"heading","level":2},{"type":"paragraph","inlineContent":[{"text":"This page contains some useful Terminal commands for working on this repo. If you’re just trying to use OpenUSD in Swift, the information here won’t be helpful. Most users should ignore this page.","type":"text"}]},{"anchor":"Documentation","text":"Documentation","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"swift package generate-documentation"},{"type":"text","text":" runs into issues with SwiftUsd. (See "},{"type":"reference","identifier":"https:\/\/github.com\/swiftlang\/swift-docc-plugin\/issues\/80","isActive":true},{"type":"text","text":".) Instead, "},{"type":"codeVoice","code":"SwiftUsd"},{"type":"text","text":" provides its own workflow for building, previewing, and publishing documentation."}]},{"anchor":"Building-documentation","text":"Building documentation","type":"heading","level":4},{"type":"paragraph","inlineContent":[{"type":"text","text":"To build the DocC symbol graphs, run:"}]},{"syntax":"zsh","type":"codeListing","code":["cd ~\/SwiftUsd","swift run --package-path scripts\/docc build-documentation"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This will take several minutes, and create a "},{"code":"Package.resolved","type":"codeVoice"},{"type":"text","text":" file, a "},{"code":".build","type":"codeVoice"},{"type":"text","text":" directory, and a "},{"code":".symbol-graphs","type":"codeVoice"},{"type":"text","text":" directory."}]},{"name":"Note","content":[{"inlineContent":[{"text":"Note, even if ","type":"text"},{"code":"swift package generate-documentation","type":"codeVoice"},{"text":" starts working, using ","type":"text"},{"code":"scripts\/docc build-documentation","type":"codeVoice"},{"text":" is still the recommended approach, because it also manipulates the symbol graphs to look nicer for Swift-Cxx interop (e.g. hiding the long Pixar internal namespace, hiding C++ DocC workarounds) in addition to symlinking generated markdown files into the documentation catalog.","type":"text"}],"type":"paragraph"}],"style":"note","type":"aside"},{"anchor":"Previewing-documentation","text":"Previewing documentation","type":"heading","level":4},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Prerequisite: You already ran "},{"type":"codeVoice","code":"build-documentation"},{"type":"text","text":"."},{"type":"text","text":"\n"},{"type":"text","text":"To preview the DocC documentation locally, run:"}],"type":"paragraph"}]}]},{"syntax":"zsh","type":"codeListing","code":["cd ~\/SwiftUsd","swift run --package-path scripts\/docc preview-documentation"]},{"type":"paragraph","inlineContent":[{"text":"This script will automatically open a window in your web browser viewing the locally hosted documentation. You can modify the markdown files in the documentation catalog and the preview will automatically update. (You may need to refresh the page, and the updating may take a few seconds.)","type":"text"}]},{"anchor":"Publishing-documentation","text":"Publishing documentation","type":"heading","level":4},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Prerequisite: You already ran ","type":"text"},{"code":"build-documentation","type":"codeVoice"},{"text":".","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prerequisite: You already ran "},{"type":"codeVoice","code":"preview-documentation"},{"type":"text","text":" and there were no documentation warnings or errors."},{"type":"text","text":"\n"},{"type":"text","text":"To update the published documentation, run:"}]}]}]},{"syntax":"zsh","type":"codeListing","code":["cd ~\/SwiftUsd","swift run --package-path scripts\/docc update-documentation"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"This script will update the "},{"type":"codeVoice","code":"SwiftUsd.doccarchive"},{"type":"text","text":" that is viewable locally in Xcode, as well as the "},{"type":"codeVoice","code":"docs"},{"type":"text","text":" directory that powers the online documentation hosted at "},{"type":"reference","identifier":"https:\/\/apple.github.io\/SwiftUsd\/documentation\/openusd\/","isActive":true},{"type":"text","text":"."}]},{"anchor":"Patches","text":"Patches","type":"heading","level":3},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Prerequisite: "},{"type":"codeVoice","code":"~\/OpenUSD"},{"type":"text","text":" is an unmodified version of OpenUSD."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Prerequisite: You’ve already cloned OpenUSD to ","type":"text"},{"code":"SwiftUsd\/openusd-source","type":"codeVoice"},{"text":".","type":"text"}]}]}]},{"anchor":"Generating-a-new-patch","text":"Generating a new patch","type":"heading","level":4},{"syntax":"zsh","type":"codeListing","code":["cd ~\/SwiftUsd\/openusd-source","diff -Nura \\","    --exclude .git --exclude '*.orig' \\","    --exclude .DS_Store --exclude '*.pyc' \\","    ~\/OpenUSD . > ~\/Desktop\/wip.patch"]},{"anchor":"Viewing-the-list-of-files-changed-from-OpenUSD","text":"Viewing the list of files changed from OpenUSD","type":"heading","level":4},{"syntax":"zsh","type":"codeListing","code":["cd ~\/SwiftUsd\/openusd-source","diff -Nqra \\","    --exclude .git --exclude '*.orig' \\","    --exclude .DS_Store --exclude '*.pyc' \\","    ~\/OpenUSD ."]},{"anchor":"Comparing-the-differences-between-an-old-patch-and-a-new-patch","text":"Comparing the differences between an old patch and a new patch","type":"heading","level":4},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Prerequisite: You generated a new patch at ","type":"text"},{"type":"codeVoice","code":"~\/Desktop\/wip.patch"}],"type":"paragraph"}]}]},{"syntax":"zsh","type":"codeListing","code":["diff -ua \\","    -I '^(diff |\\+\\+\\+ |--- |@@ |\\ | )' \\","    ~\/SwiftUsd\/openusd-patch.patch ~\/Desktop\/wip.patch"]},{"anchor":"Reviewing-commit-changes","text":"Reviewing commit changes","type":"heading","level":3},{"syntax":"zsh","type":"codeListing","code":["git status \":(exclude)docs\/*\" \":(exclude)SwiftUsd.doccarchive\/*\" \":(exclude)swift-package\/XCFrameworks\/*.xcframework\/Info.plist\"","git diff \":(exclude)docs\/*\" \":(exclude)SwiftUsd.doccarchive\/*\" \":(exclude)swift-package\/XCFrameworks\/*.xcframework\/Info.plist\""]},{"anchor":"Grep","text":"Grep","type":"heading","level":3},{"type":"paragraph","inlineContent":[{"text":"Grepping for text in the entire package will likely pull up useless matches from various hidden directories and build artifacts. To get more relevant matches, use something like this:","type":"text"}]},{"syntax":"zsh","type":"codeListing","code":["grep SEARCHPATTERN -r scripts source SwiftUsd.docc Package.swift --exclude-dir={.docc-build,.build}"]}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftusd\/cheatsheet"]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/swiftusd\/cheatsheet"]}],"abstract":[{"type":"text","text":"Tips for advanced users modifying this repo"}],"seeAlsoSections":[{"generated":true,"anchor":"About-this-repo","title":"About this repo","identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ChangeLog","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/OngoingWork","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UpgradeChecklist","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ReleaseChecklist","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/Miscellaneous"]}],"hierarchy":{"paths":[["doc:\/\/SwiftUsd\/documentation\/OpenUSD"]]},"references":{"doc://SwiftUsd/documentation/SwiftUsd/ReleaseChecklist":{"abstract":[{"text":"Checklist for releasing new versions of SwiftUsd","type":"text"}],"role":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ReleaseChecklist","type":"topic","kind":"article","title":"Release Checklist","url":"\/documentation\/swiftusd\/releasechecklist"},"https://github.com/swiftlang/swift-docc-plugin/issues/80":{"title":"here","type":"link","identifier":"https:\/\/github.com\/swiftlang\/swift-docc-plugin\/issues\/80","titleInlineContent":[{"type":"text","text":"here"}],"url":"https:\/\/github.com\/swiftlang\/swift-docc-plugin\/issues\/80"},"doc://SwiftUsd/documentation/OpenUSD":{"title":"OpenUSD","url":"\/documentation\/openusd","kind":"symbol","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD","role":"collection","abstract":[],"type":"topic"},"https://apple.github.io/SwiftUsd/documentation/openusd/":{"identifier":"https:\/\/apple.github.io\/SwiftUsd\/documentation\/openusd\/","titleInlineContent":[{"type":"text","text":"https:\/\/apple.github.io\/SwiftUsd\/documentation\/openusd\/"}],"type":"link","url":"https:\/\/apple.github.io\/SwiftUsd\/documentation\/openusd\/","title":"https:\/\/apple.github.io\/SwiftUsd\/documentation\/openusd\/"},"doc://SwiftUsd/documentation/SwiftUsd/OngoingWork":{"url":"\/documentation\/swiftusd\/ongoingwork","abstract":[{"type":"text","text":"In-progress and future tasks for improving OpenUSD in Swift"}],"kind":"article","role":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/OngoingWork","type":"topic","title":"Ongoing Work"},"doc://SwiftUsd/documentation/SwiftUsd/ChangeLog":{"abstract":[{"text":"Changes to SwiftUsd","type":"text"}],"role":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ChangeLog","type":"topic","kind":"article","title":"Change Log","url":"\/documentation\/swiftusd\/changelog"},"doc://SwiftUsd/documentation/SwiftUsd/UpgradeChecklist":{"abstract":[{"text":"Checklist for upgrading SwiftUsd to be based on a new OpenUSD version","type":"text"}],"role":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UpgradeChecklist","type":"topic","kind":"article","title":"Upgrade Checklist","url":"\/documentation\/swiftusd\/upgradechecklist"},"doc://SwiftUsd/documentation/SwiftUsd/Miscellaneous":{"abstract":[{"type":"text","text":"Miscellaneous details about this repo"}],"role":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/Miscellaneous","type":"topic","kind":"article","title":"Miscellaneous","url":"\/documentation\/swiftusd\/miscellaneous"}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"op":"replace","path":"\/identifier\/interfaceLanguage","value":"occ"},{"op":"add","path":"\/topicSections","value":null},{"op":"replace","path":"\/seeAlsoSections","value":[{"title":"About this repo","generated":true,"identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ChangeLog","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/OngoingWork","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UpgradeChecklist","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ReleaseChecklist","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/Miscellaneous"],"anchor":"About-this-repo"}]}]}]}