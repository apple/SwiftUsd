{"seeAlsoSections":[{"identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/DereferencingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CreatingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CheckingForValidity","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingEditContexts","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfNotice","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfErrorMark","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfDiagnosticFacilities","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ConvenientExtensions","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/TypeConversion"],"generated":true,"anchor":"New-symbol-documentation","title":"New symbol documentation"}],"identifier":{"url":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingLibWork","interfaceLanguage":"swift"},"sections":[],"schemaVersion":{"major":0,"minor":3,"patch":0},"hierarchy":{"paths":[["doc:\/\/SwiftUsd\/documentation\/OpenUSD"]]},"abstract":[{"type":"text","text":"Learn how to use the "},{"type":"codeVoice","code":"pxr::Work"},{"type":"text","text":" library for multithreading in Swift"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftusd\/usinglibwork"]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/swiftusd\/usinglibwork"]}],"kind":"article","primaryContentSections":[{"kind":"content","content":[{"type":"heading","level":2,"text":"Overview","anchor":"Overview"},{"type":"paragraph","inlineContent":[{"text":"OpenUSD provides the ","type":"text"},{"isActive":true,"identifier":"https:\/\/openusd.org\/release\/api\/work_page_front.html","type":"reference"},{"text":" library to simplify C++ multithreading. A select portion of this API is available in Swift.","type":"text"}]},{"type":"aside","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":""},{"type":"codeVoice","code":"Work"},{"type":"text","text":" is backed by a different multithreading implementation than Swift Concurrency. In some cases, Swift Concurrency may be a better fit for a problem than using "},{"type":"codeVoice","code":"libWork"},{"type":"text","text":" from Swift."}]}],"style":"note","name":"Note"},{"type":"heading","level":2,"text":"Detached tasks","anchor":"Detached-tasks"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"overridingTitle":"pxr.WorkRunDetachedTask(_:)","type":"reference","isActive":true,"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkRunDetachedTask(_:)","overridingTitleInlineContent":[{"code":"pxr.WorkRunDetachedTask(_:)","type":"codeVoice"}]},{"type":"text","text":" to invoke a closure asynchronously."}]},{"type":"heading","level":2,"text":"Loops","anchor":"Loops"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"overridingTitleInlineContent":[{"code":"pxr.WorkSerialForN(_:_:)","type":"codeVoice"}],"type":"reference","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkSerialForN(_:_:)","isActive":true,"overridingTitle":"pxr.WorkSerialForN(_:_:)"},{"type":"text","text":" to easily temporarily turn off multithreading of a parallel loop for easier debugging."}]},{"type":"paragraph","inlineContent":[{"text":"Use ","type":"text"},{"overridingTitle":"pxr.WorkParallelForN(_:_:)","type":"reference","isActive":true,"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForN(_:_:)","overridingTitleInlineContent":[{"type":"codeVoice","code":"pxr.WorkParallelForN(_:_:)"}]},{"text":" to run a closure in parallel over a range.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"reference","overridingTitleInlineContent":[{"type":"codeVoice","code":"pxr.WorkParallelForEach(_:_:)"}],"isActive":true,"overridingTitle":"pxr.WorkParallelForEach(_:_:)","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForEach(_:_:)"},{"type":"text","text":" to run a closure in parallel over a collection."}]},{"type":"heading","level":2,"text":"Reduce","anchor":"Reduce"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Use "},{"type":"reference","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelReduceN(_:_:_:_:)","overridingTitleInlineContent":[{"type":"codeVoice","code":"pxr.WorkParallelReduceN(_:_:_:_:)"}],"isActive":true,"overridingTitle":"pxr.WorkParallelReduceN(_:_:_:_:)"},{"type":"text","text":" to map and reduce a range in parallel."}]}]}],"metadata":{"roleHeading":"Article","title":"Using libWork","role":"article","modules":[{"name":"OpenUSD"}]},"references":{"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkParallelForN(_:_:)":{"url":"\/documentation\/openusd\/c++\/pxr\/workparallelforn(_:_:)","kind":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkParallelForN","kind":"identifier"},{"text":"(","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", (","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"begin","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":", ","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"end","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"Int","kind":"typeIdentifier","preciseIdentifier":"s:Si"},{"text":") -> ())","kind":"text"}],"role":"symbol","type":"topic","abstract":[{"type":"text","text":"Runs "},{"type":"codeVoice","code":"closure"},{"type":"text","text":" in parallel over the range 0 to n."}],"identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForN(_:_:)","title":"WorkParallelForN(_:_:)"},"doc://SwiftUsd/documentation/SwiftUsd/WorkingWithTfNotice":{"identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfNotice","url":"\/documentation\/swiftusd\/workingwithtfnotice","abstract":[{"text":"Learn how to use the TfNotice notification subsystem in Swift","type":"text"}],"title":"Working with TfNotice","kind":"article","type":"topic","role":"article"},"doc://SwiftUsd/documentation/SwiftUsd/TypeConversion":{"role":"collectionGroup","title":"Type conversion","type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/TypeConversion","url":"\/documentation\/swiftusd\/typeconversion","abstract":[],"kind":"article"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkParallelReduceN(_:_:_:_:)":{"type":"topic","url":"\/documentation\/openusd\/c++\/pxr\/workparallelreducen(_:_:_:_:)","title":"WorkParallelReduceN(_:_:_:_:)","abstract":[{"type":"text","text":"Recursively splits the range [0, "},{"code":"n","type":"codeVoice"},{"type":"text","text":") into subranges, which are then"},{"type":"text","text":" "},{"type":"text","text":"reduced by invoking "},{"code":"loopCallback","type":"codeVoice"},{"type":"text","text":" in parallel."}],"kind":"symbol","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelReduceN(_:_:_:_:)","role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkParallelReduceN","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"text":", (","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:Si","text":"Int","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T","kind":"typeIdentifier"},{"text":", (","kind":"text"},{"preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T","kind":"typeIdentifier"},{"text":") -> ","kind":"text"},{"preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelReduceNyxx_SixSi_SixtYbXExx_xtYbXEtlFZ1TL_xmfp","text":"T","kind":"typeIdentifier"}]},"doc://SwiftUsd/documentation/OpenUSD":{"type":"topic","url":"\/documentation\/openusd","title":"OpenUSD","role":"collection","abstract":[],"kind":"symbol","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD"},"doc://SwiftUsd/documentation/SwiftUsd/CheckingForValidity":{"type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CheckingForValidity","abstract":[{"type":"text","text":"Checking for "},{"type":"codeVoice","code":"IsValid()"},{"type":"text","text":" and null pointers in Swift"}],"role":"article","url":"\/documentation\/swiftusd\/checkingforvalidity","kind":"article","title":"Checking for validity"},"doc://SwiftUsd/documentation/SwiftUsd/WorkingWithTfDiagnosticFacilities":{"abstract":[{"text":"Learn how to use the Tf diagnostic facilities in Swift","type":"text"}],"title":"Working with Tf Diagnostic Facilities","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfDiagnosticFacilities","role":"collectionGroup","url":"\/documentation\/swiftusd\/workingwithtfdiagnosticfacilities","kind":"article","type":"topic"},"doc://SwiftUsd/documentation/SwiftUsd/CreatingPointers":{"identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CreatingPointers","abstract":[{"type":"text","text":"Creating "},{"type":"codeVoice","code":"pxr.TfRefPtr"},{"type":"text","text":" and "},{"type":"codeVoice","code":"pxr.TfWeakPtr"},{"type":"text","text":" in Swift"}],"url":"\/documentation\/swiftusd\/creatingpointers","kind":"article","type":"topic","title":"Creating pointers","role":"collectionGroup"},"doc://SwiftUsd/documentation/SwiftUsd/UsingEditContexts":{"identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingEditContexts","role":"collectionGroup","abstract":[{"type":"text","text":"Using "},{"code":"pxr.UsdEditContext","type":"codeVoice"},{"type":"text","text":" in Swift"}],"kind":"article","url":"\/documentation\/swiftusd\/usingeditcontexts","title":"Using edit contexts","type":"topic"},"doc://SwiftUsd/documentation/SwiftUsd/ConvenientExtensions":{"url":"\/documentation\/swiftusd\/convenientextensions","kind":"article","title":"Convenient extensions","type":"topic","role":"collectionGroup","abstract":[{"type":"text","text":"Extensions that make OpenUSD nicer to use in Swift"}],"identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ConvenientExtensions"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkRunDetachedTask(_:)":{"type":"topic","title":"WorkRunDetachedTask(_:)","url":"\/documentation\/openusd\/c++\/pxr\/workrundetachedtask(_:)","abstract":[{"text":"Invoke ","type":"text"},{"code":"closure","type":"codeVoice"},{"text":" asynchronously, discard any errors it produces, and provide","type":"text"},{"text":" ","type":"text"},{"text":"no way to wait for it to complete.","type":"text"}],"fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkRunDetachedTask","kind":"identifier"},{"text":"(() -> ())","kind":"text"}],"role":"symbol","kind":"symbol","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkRunDetachedTask(_:)"},"doc://SwiftUsd/documentation/SwiftUsd/DereferencingPointers":{"title":"Dereferencing pointers","url":"\/documentation\/swiftusd\/dereferencingpointers","abstract":[{"type":"text","text":"Safely dereferencing "},{"type":"codeVoice","code":"pxr.TfRefPtr"},{"type":"text","text":" and "},{"type":"codeVoice","code":"pxr.TfWeakPtr"},{"type":"text","text":" in Swift"}],"kind":"article","type":"topic","role":"collectionGroup","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/DereferencingPointers"},"https://openusd.org/release/api/work_page_front.html":{"identifier":"https:\/\/openusd.org\/release\/api\/work_page_front.html","url":"https:\/\/openusd.org\/release\/api\/work_page_front.html","type":"link","titleInlineContent":[{"text":"Work","type":"text"}],"title":"Work"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkParallelForEach(_:_:)":{"url":"\/documentation\/openusd\/c++\/pxr\/workparallelforeach(_:_:)","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkParallelForEach(_:_:)","type":"topic","title":"WorkParallelForEach(_:_:)","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"WorkParallelForEach","kind":"identifier"},{"text":"<","kind":"text"},{"text":"C","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"C","kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelForEachyyx_y7ElementQzYbXEtSlRzlFZ1CL_xmfp"},{"text":", (","kind":"text"},{"text":"C","kind":"typeIdentifier","preciseIdentifier":"s:So021pxrInternal_v0_25_8__A10Reserved__O7OpenUSDE19WorkParallelForEachyyx_y7ElementQzYbXEtSlRzlFZ1CL_xmfp"},{"text":".","kind":"text"},{"text":"Element","kind":"typeIdentifier","preciseIdentifier":"s:ST7ElementQa"},{"text":") -> ())","kind":"text"}],"role":"symbol","kind":"symbol","abstract":[{"type":"text","text":"Runs "},{"type":"codeVoice","code":"closure"},{"type":"text","text":" in parallel over the elements in "},{"type":"codeVoice","code":"collection"}]},"doc://SwiftUsd/documentation/SwiftUsd/WorkingWithTfErrorMark":{"role":"article","title":"Working with TfErrorMark","type":"topic","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfErrorMark","url":"\/documentation\/swiftusd\/workingwithtferrormark","abstract":[{"type":"text","text":"Learn how to use TfErrorMark in Swift"}],"kind":"article"},"doc://SwiftUsd/documentation/OpenUSD/C++/pxr/WorkSerialForN(_:_:)":{"title":"WorkSerialForN(_:_:)","type":"topic","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"WorkSerialForN"},{"kind":"text","text":"("},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"},{"kind":"text","text":", ("},{"kind":"externalParam","text":"_"},{"kind":"text","text":" "},{"kind":"internalParam","text":"begin"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"},{"kind":"text","text":", "},{"kind":"externalParam","text":"_"},{"kind":"text","text":" "},{"kind":"internalParam","text":"end"},{"kind":"text","text":": "},{"preciseIdentifier":"s:Si","kind":"typeIdentifier","text":"Int"},{"kind":"text","text":") -> ())"}],"abstract":[{"text":"A serial version of WorkParallelForN as a drop in replacement to","type":"text"},{"text":" ","type":"text"},{"text":"selectively turn off multithreading for a single parallel loop for easier","type":"text"},{"text":" ","type":"text"},{"text":"debugging.","type":"text"}],"url":"\/documentation\/openusd\/c++\/pxr\/workserialforn(_:_:)","kind":"symbol","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD\/C++\/pxr\/WorkSerialForN(_:_:)","role":"symbol"}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"value":"occ","op":"replace","path":"\/identifier\/interfaceLanguage"},{"value":null,"op":"add","path":"\/topicSections"},{"value":[{"identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/DereferencingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CreatingPointers","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/CheckingForValidity","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/UsingEditContexts","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfNotice","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfErrorMark","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/WorkingWithTfDiagnosticFacilities","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ConvenientExtensions","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/TypeConversion"],"title":"New symbol documentation","generated":true,"anchor":"New-symbol-documentation"}],"op":"replace","path":"\/seeAlsoSections"}]}]}