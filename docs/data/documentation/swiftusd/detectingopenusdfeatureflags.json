{"kind":"article","sections":[],"seeAlsoSections":[{"generated":true,"anchor":"Technical-details","title":"Technical details","identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/BuildingLocally","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ChangesToOpenUSD"]}],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","anchor":"Overview","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"SwiftUsd comes with a pre-built version of OpenUSD, but it supports creating Swift Packages from existing OpenUSD builds, including builds with different OpenUSD feature flags. For example, OpenUSD might be built without imaging support, or with OpenVDB support. To write code that supports different feature flag sets (or handles incompatible feature flag sets gracefully), use these techniques.","type":"text"}]},{"text":"Supported feature flags:","anchor":"Supported-feature-flags","level":2,"type":"heading"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Alembic plugin (","type":"text"},{"code":"ALEMBIC","type":"codeVoice"},{"text":"): ","type":"text"},{"code":"--alembic","type":"codeVoice"},{"text":", ","type":"text"},{"code":"--no-alembic","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Draco plugin (","type":"text"},{"type":"codeVoice","code":"DRACO"},{"text":"): ","type":"text"},{"code":"--draco","type":"codeVoice"},{"text":", ","type":"text"},{"code":"--no-draco","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Embree plugin (","type":"text"},{"type":"codeVoice","code":"EMBREE"},{"text":"): ","type":"text"},{"type":"codeVoice","code":"--embree"},{"text":", ","type":"text"},{"type":"codeVoice","code":"--no-embree"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"OpenColorIO plugin ("},{"type":"codeVoice","code":"OPENCOLORIO"},{"type":"text","text":"): "},{"type":"codeVoice","code":"--opencolorio"},{"type":"text","text":", "},{"type":"codeVoice","code":"--no-opencolorio"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"OpenImageIO plugin ("},{"type":"codeVoice","code":"OPENIMAGEIO"},{"type":"text","text":"): "},{"type":"codeVoice","code":"--openimageio"},{"type":"text","text":", "},{"type":"codeVoice","code":"--no-openimageio"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"RenderMan plugin ("},{"type":"codeVoice","code":"PRMAN"},{"type":"text","text":"): "},{"type":"codeVoice","code":"--prman"},{"type":"text","text":", "},{"type":"codeVoice","code":"--no-prman"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Imaging component (","type":"text"},{"code":"IMAGING","type":"codeVoice"},{"text":"): ","type":"text"},{"code":"--imaging","type":"codeVoice"},{"text":", ","type":"text"},{"code":"--no-imaging","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"UsdImaging component (","type":"text"},{"type":"codeVoice","code":"USD_IMAGING"},{"text":"): ","type":"text"},{"type":"codeVoice","code":"--usd-imaging"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"MaterialX support ("},{"type":"codeVoice","code":"MATERIALX"},{"type":"text","text":"): "},{"type":"codeVoice","code":"--materialx"},{"type":"text","text":", "},{"type":"codeVoice","code":"--no-materialx"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"OpenVDB support (","type":"text"},{"type":"codeVoice","code":"OPENVDB"},{"text":"): ","type":"text"},{"type":"codeVoice","code":"--openvdb"},{"text":", ","type":"text"},{"type":"codeVoice","code":"--no-openvdb"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Ptex support (","type":"text"},{"code":"PTEX","type":"codeVoice"},{"text":"): ","type":"text"},{"code":"--ptex","type":"codeVoice"},{"text":", ","type":"text"},{"code":"--no-ptex","type":"codeVoice"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Python support ("},{"type":"codeVoice","code":"PYTHON"},{"type":"text","text":"): "},{"type":"codeVoice","code":"--python"},{"type":"text","text":", "},{"type":"codeVoice","code":"--no-python"}]}]}]},{"anchor":"Detecting-feature-flags-in-Swift","type":"heading","text":"Detecting feature flags in Swift","level":2},{"inlineContent":[{"type":"text","text":"You can detect OpenUSD feature flags at compile time by using "},{"type":"codeVoice","code":"#if canImport(SwiftUsd_PXR_ENABLE_<flag>_SUPPORT)"},{"type":"text","text":". For example,"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["#if canImport(SwiftUsd_PXR_ENABLE_OPENVDB_SUPPORT)","\/\/ Compiled when SwiftUsd is based on an OpenUSD build with OpenVDB","#else","\/\/ Compiled when SwiftUsd is based on an OpenUSD build without OpenVDB","#endif","","#if !canImport(SwiftUsd_PXR_ENABLE_USD_IMAGING_SUPPORT)","\/\/ Compiled when SwiftUsd is based on an OpenUSD build without UsdImaging","#else","\/\/ Compiled when SwiftUsd is based on an OpenUSD build with UsdImaging","#endif"]},{"anchor":"Detecting-feature-flags-in-C++","type":"heading","text":"Detecting feature flags in C++","level":2},{"inlineContent":[{"text":"You can detect OpenUSD feature flags at compile time by using ","type":"text"},{"type":"codeVoice","code":"#if SwiftUsd_PXR_ENABLE_<FLAG>_SUPPORT"},{"text":". For example,","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"c++","code":["#include \"swiftUsd\/swiftUsd.h\"","","#if SwiftUsd_PXR_ENABLE_OPENVDB_SUPPORT","\/\/ Compiled when SwiftUsd is based on an OpenUSD build with OpenVDB","#else","\/\/ Compiled when SwiftUsd is based on an OpenUSD build without OpenVDB","#endif","","#if !SwiftUsd_PXR_ENABLE_USD_IMAGING_SUPPORT","\/\/ Compiled when SwiftUsd is based on an OpenUSD build without UsdImaging","#else","\/\/ Compiled when SwiftUsd is based on an OpenUSD build with UsdImaging","#endif"]}]}],"variants":[{"paths":["\/documentation\/swiftusd\/detectingopenusdfeatureflags"],"traits":[{"interfaceLanguage":"swift"}]},{"traits":[{"interfaceLanguage":"occ"}],"paths":["\/documentation\/swiftusd\/detectingopenusdfeatureflags"]}],"hierarchy":{"paths":[["doc:\/\/SwiftUsd\/documentation\/OpenUSD"]]},"metadata":{"role":"article","modules":[{"name":"OpenUSD"}],"roleHeading":"Article","title":"Detecting OpenUSD feature flags"},"identifier":{"url":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/DetectingOpenUSDFeatureFlags","interfaceLanguage":"swift"},"schemaVersion":{"minor":3,"major":0,"patch":0},"abstract":[{"text":"Learn how to detect OpenUSD feature flags","type":"text"}],"references":{"doc://SwiftUsd/documentation/OpenUSD":{"kind":"symbol","title":"OpenUSD","url":"\/documentation\/openusd","identifier":"doc:\/\/SwiftUsd\/documentation\/OpenUSD","role":"collection","type":"topic","abstract":[]},"doc://SwiftUsd/documentation/SwiftUsd/BuildingLocally":{"role":"article","kind":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/BuildingLocally","url":"\/documentation\/swiftusd\/buildinglocally","title":"Building locally","type":"topic","abstract":[{"type":"text","text":"Learn how to use SwiftUsd with local\/existing OpenUSD binaries"}]},"doc://SwiftUsd/documentation/SwiftUsd/ChangesToOpenUSD":{"role":"article","identifier":"doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ChangesToOpenUSD","kind":"article","url":"\/documentation\/swiftusd\/changestoopenusd","title":"Changes to OpenUSD","type":"topic","abstract":[{"type":"text","text":"Learn about the changes this Swift Package makes to OpenUSD"}]}},"variantOverrides":[{"patch":[{"value":"occ","path":"\/identifier\/interfaceLanguage","op":"replace"},{"value":null,"path":"\/topicSections","op":"add"},{"value":[{"identifiers":["doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/BuildingLocally","doc:\/\/SwiftUsd\/documentation\/SwiftUsd\/ChangesToOpenUSD"],"anchor":"Technical-details","generated":true,"title":"Technical details"}],"path":"\/seeAlsoSections","op":"replace"}],"traits":[{"interfaceLanguage":"occ"}]}]}